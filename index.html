<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Member Management</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom animations */
    @keyframes fadeInScale {
      0% { opacity: 0; transform: scale(0.9); }
      100% { opacity: 1; transform: scale(1); }
    }
    @keyframes fadeOutScale {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(0.9); }
    }
    @keyframes slideDownFade {
      0% { opacity: 0; transform: translateY(-10px); }
      100% { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">

  <!-- Owner Access + Language Switch -->
  <div class="flex justify-end p-4 space-x-4">
    <select id="languageSwitcher" onchange="setLanguage(this.value)" 
      class="px-3 py-2 bg-gray-700 text-white rounded-lg">
      <option value="en">English</option>
      <option value="si">à·ƒà·’à¶‚à·„à¶½</option>
      <option value="ta">à®¤à®®à®¿à®´à¯</option>
    </select>

    <button id="ownerLoginBtn" onclick="showOwnerLogin()" 
      class="px-6 py-3 bg-gray-600 hover:bg-gray-700 rounded-xl shadow-lg animate-pulse transform hover:scale-105 transition">
      ğŸ” Owner Access
    </button>
    <button id="downloadBtn" onclick="downloadSubmissions()" 
      class="px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-xl shadow-lg hidden transform hover:scale-105 transition ml-2">
      ğŸ’¾ Download Data
    </button>
  </div>

  <!-- Main Section -->
  <div class="min-h-screen flex flex-col items-center justify-center -mt-20">
    <h1 id="title" class="text-3xl font-bold mb-6 animate-pulse">ğŸš€ Member Management</h1>
    
    <div class="space-x-4 mb-4">
      <button id="addMemberBtn" onclick="openForm()" 
        class="px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-xl shadow-lg transform hover:scale-105 transition">
        â• Add New Member
      </button>
      <button id="viewMembersBtn" onclick="window.open('https://docs.google.com/spreadsheets/d/14a39saiscm07b_0uXkm4ShB5NysLfS-RWPNoanLUppU/edit?gid=0#gid=0','_blank')" 
        class="px-6 py-3 bg-green-600 hover:bg-green-700 rounded-xl shadow-lg transform hover:scale-105 transition">
        ğŸ“„ View All Members
      </button>
    </div>
    
    <!-- Status Display -->
    <div id="statusDisplay" class="hidden mb-4 p-4 rounded-xl max-w-2xl w-full mx-4 animate-[slideDownFade_0.5s_ease]"></div>
  </div>

  <!-- Owner Login Modal -->
  <div id="ownerModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden">
    <div class="bg-gray-800 rounded-2xl shadow-lg p-8 w-full max-w-sm relative mx-4 animate-[fadeInScale_0.3s_ease]">
      <button onclick="closeOwnerLogin()" 
        class="absolute top-3 right-3 text-gray-400 hover:text-white text-2xl">&times;</button>
      
      <h2 class="text-2xl font-semibold mb-6 text-center">ğŸ” Owner Access</h2>
      
      <form id="ownerForm" class="space-y-4">
        <div>
          <label for="ownerPassword" id="labelPassword" class="block text-gray-200 font-medium mb-1">Password</label>
          <input type="password" id="ownerPassword" required 
            placeholder="Enter owner password"
            class="w-full p-3 rounded-xl border border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-blue-500 transition">
        </div>
        <button type="submit" id="unlockBtn"
          class="w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-xl font-semibold transform hover:scale-105 transition">
          ğŸ”“ Unlock Owner Features
        </button>
      </form>
    </div>
  </div>

  <!-- Add Member Modal -->
  <div id="formModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden">
    <div class="bg-gray-800 rounded-2xl shadow-lg p-8 w-full max-w-lg relative mx-4 animate-[fadeInScale_0.3s_ease]">
      <button onclick="closeForm()" 
        class="absolute top-3 right-3 text-gray-400 hover:text-white text-2xl">&times;</button>
      
      <h2 id="addMemberTitle" class="text-2xl font-semibold mb-6">Add Member</h2>
      
      <form id="memberForm" class="space-y-4">
        <!-- Name -->
        <div>
          <label for="name" id="labelName" class="block text-gray-200 font-medium mb-1">Full Name</label>
          <input type="text" id="name" name="name" required 
            class="w-full p-3 rounded-xl border border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-blue-500 transition">
        </div>

        <!-- Birthday -->
        <div>
          <label for="birthday" id="labelBirthday" class="block text-gray-200 font-medium mb-1">Birthday</label>
          <input type="date" id="birthday" name="birthday" required 
            class="w-full p-3 rounded-xl border border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-green-500 transition">
        </div>

        <!-- Sex -->
        <div>
          <label for="sex" id="labelSex" class="block text-gray-200 font-medium mb-1">Sex</label>
          <select id="sex" name="sex" required 
            class="w-full p-3 rounded-xl border border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-purple-500 transition">
            <option value="">-- Select --</option>
            <option value="Male">Male â™‚ï¸</option>
            <option value="Female">Female â™€ï¸</option>
            <option value="Other">Other âš§ï¸</option>
          </select>
        </div>

        <!-- Family Members -->
        <div>
          <label for="familyMembers" id="labelFamily" class="block text-gray-200 font-medium mb-1">
            Family Members (one per line, format: Name - Relation)
          </label>
          <textarea id="familyMembers" name="family" rows="4" 
            placeholder="John - Father&#10;Mary - Mother" 
            class="w-full p-3 rounded-xl border border-gray-600 bg-gray-700 text-white focus:ring-2 focus:ring-pink-500 transition"></textarea>
        </div>

        <!-- Submit Options -->
        <div class="space-y-3">
          <button type="submit" data-method="local" id="saveLocalBtn"
            class="w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-xl font-semibold transform hover:scale-105 transition">
            ğŸ’¾ Save Locally (Recommended)
          </button>
          <button type="button" id="copyClipboardBtn" onclick="copyToClipboard()"
            class="w-full py-3 bg-green-500 hover:bg-green-600 rounded-xl font-semibold transform hover:scale-105 transition">
            ğŸ“‹ Copy to Clipboard
          </button>
        </div>
      </form>
    </div>
  </div>

<script>
  let memberData = [];
  let isOwner = false;
  const OWNER_PASSWORD = "Hasintha15$";

  // ğŸ”¤ Translations
  const translations = {
    en: {
      title: "ğŸš€ Member Management",
      addMember: "â• Add New Member",
      viewMembers: "ğŸ“„ View All Members",
      ownerAccess: "ğŸ” Owner Access",
      downloadData: "ğŸ’¾ Download Data",
      addMemberTitle: "Add Member",
      fullName: "Full Name",
      birthday: "Birthday",
      sex: "Sex",
      select: "-- Select --",
      male: "Male â™‚ï¸",
      female: "Female â™€ï¸",
      other: "Other âš§ï¸",
      familyMembers: "Family Members (one per line, format: Name - Relation)",
      saveLocal: "ğŸ’¾ Save Locally (Recommended)",
      copyClipboard: "ğŸ“‹ Copy to Clipboard",
      password: "Password",
      unlock: "ğŸ”“ Unlock Owner Features",
      saved: name => `âœ… Member "${name}" saved successfully!`,
      copied: "ğŸ“‹ Member data copied to clipboard!",
      copyFail: "âŒ Failed to copy",
      noData: "ğŸ“ No data to download.",
      downloaded: count => `ğŸ’¾ Downloaded ${count} member records!`,
      accessGranted: "ğŸ”“ Owner access granted!",
      accessDenied: "âŒ Incorrect password.",
      revoked: "ğŸ”’ Owner access revoked.",
      loaded: count => `ğŸ“Š ${count} member(s) loaded from local storage.`
    },
    si: {
      title: "ğŸš€ à·ƒà·à¶¸à·à¶¢à·’à¶š à¶šà·…à¶¸à¶±à·à¶šà¶»à¶«à¶º",
      addMember: "â• à¶±à·€ à·ƒà·à¶¸à·à¶¢à·’à¶šà¶ºà·™à¶šà·Š à¶‘à¶šà·Š à¶šà¶»à¶±à·Šà¶±",
      viewMembers: "ğŸ“„ à·ƒà·’à¶ºà¶½à·” à·ƒà·à¶¸à·à¶¢à·’à¶šà¶ºà¶±à·Š à¶¶à¶½à¶±à·Šà¶±",
      ownerAccess: "ğŸ” à·„à·’à¶¸à·’à¶šà¶»à·” à·ƒà¶³à·„à· à¶´à·Šâ€à¶»à·€à·šà·à¶º",
      downloadData: "ğŸ’¾ à¶¯à¶­à·Šà¶­ à¶¶à·à¶œà¶­ à¶šà¶»à¶±à·Šà¶±",
      addMemberTitle: "à·ƒà·à¶¸à·à¶¢à·’à¶šà¶ºà·™à¶šà·Š à¶‘à¶šà·Š à¶šà¶»à¶±à·Šà¶±",
      fullName: "à·ƒà¶¸à·Šà¶´à·–à¶»à·Šà¶« à¶±à¶¸",
      birthday: "à¶‹à¶´à¶±à·Šà¶¯à·’à¶±à¶º",
      sex: "à¶½à·’à¶‚à¶œà¶º",
      select: "-- à¶­à·à¶»à¶±à·Šà¶± --",
      male: "à¶´à·”à¶»à·”à·‚ â™‚ï¸",
      female: "à¶œà·à·„à·à¶«à·” â™€ï¸",
      other: "à·€à·™à¶±à¶­à·Š âš§ï¸",
      familyMembers: "à¶´à·€à·”à¶½à·Š à·ƒà·à¶¸à·à¶¢à·’à¶šà¶ºà·’à¶±à·Š (à¶‘à¶šà·Š à¶‘à¶šà·Š à¶´à·šà·…à·’à¶ºà¶šà¶§, à¶†à¶šà·˜à¶­à·’à¶º: à¶±à¶¸ - à·ƒà¶¸à·Šà¶¶à¶±à·Šà¶°à¶­à·à·€à¶º)",
      saveLocal: "ğŸ’¾ à·ƒà·Šà¶®à·à¶±à¶ºà·š à·ƒà·”à¶»à¶šà·’à¶±à·Šà¶± (à¶±à·’à¶»à·Šà¶¯à·šà·à·’à¶­à¶ºà·’)",
      copyClipboard: "ğŸ“‹ à¶´à·”à·€à¶»à·”à·€à¶§ à¶´à·’à¶§à¶´à¶­à·Š à¶šà¶»à¶±à·Šà¶±",
      password: "à¶¸à·”à¶»à¶´à¶¯à¶º",
      unlock: "ğŸ”“ à·„à·’à¶¸à·’à¶šà¶»à·” à·ƒà¶³à·„à· à·€à·’à·à·šà·‚à·à¶‚à¶œ à·€à·’à·€à·˜à¶­ à¶šà¶»à¶±à·Šà¶±",
      saved: name => `âœ… "${name}" à·ƒà·”à¶»à¶šà·’à¶± à¶½à¶¯à·’!`,
      copied: "ğŸ“‹ à¶¯à¶­à·Šà¶­ à¶´à·”à·€à¶»à·”à·€à¶§ à¶´à·’à¶§à¶´à¶­à·Š à¶šà¶»à¶± à¶½à¶¯à·’!",
      copyFail: "âŒ à¶´à·’à¶§à¶´à¶­à·Š à¶šà·’à¶»à·“à¶¸à¶§ à¶…à·ƒà¶¸à¶­à·Š",
      noData: "ğŸ“ à¶¯à¶­à·Šà¶­ à¶±à·œà¶¸à·à¶­.",
      downloaded: count => `ğŸ’¾ à·ƒà·à¶¸à·à¶¢à·’à¶š à¶¯à¶­à·Šà¶­ ${count}à¶šà·Š à¶¶à·à¶œà¶­ à¶šà¶»à¶± à¶½à¶¯à·’!`,
      accessGranted: "ğŸ”“ à·„à·’à¶¸à·’à¶šà¶»à·”à¶œà·š à¶´à·Šâ€à¶»à·€à·šà·à¶º à¶½à·à¶¶à·”à¶«à·!",
      accessDenied: "âŒ à¶¸à·”à¶»à¶´à¶¯à¶º à·€à·à¶»à¶¯à·’à¶ºà·’.",
      revoked: "ğŸ”’ à·„à·’à¶¸à·’à¶šà¶»à·”à¶œà·š à¶´à·Šâ€à¶»à·€à·šà·à¶º à¶‰à·€à¶­à·Š à¶šà·…à·.",
      loaded: count => `ğŸ“Š à¶¯à·šà·à·“à¶º à¶œà¶¶à¶©à·à·€à·™à¶±à·Š à·ƒà·à¶¸à·à¶¢à·’à¶šà¶ºà·’à¶±à·Š ${count} à¶¯à·™à¶±à·™à¶šà·Š à¶´à·–à¶»à¶«à¶º à¶šà·…à·.`
    },
    ta: {
      title: "ğŸš€ à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯ à®®à¯‡à®²à®¾à®£à¯à®®à¯ˆ",
      addMember: "â• à®ªà¯à®¤à®¿à®¯ à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯ˆ à®šà¯‡à®°à¯à®•à¯à®•à®µà¯à®®à¯",
      viewMembers: "ğŸ“„ à®…à®©à¯ˆà®¤à¯à®¤à¯ à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯à®•à®³à¯ˆà®¯à¯à®®à¯ à®•à®¾à®£à¯à®•",
      ownerAccess: "ğŸ” à®‰à®°à®¿à®®à¯ˆà®¯à®¾à®³à®°à¯ à®…à®£à¯à®•à®²à¯",
      downloadData: "ğŸ’¾ à®¤à®°à®µà¯ˆ à®ªà®¤à®¿à®µà®¿à®±à®•à¯à®•à®µà¯à®®à¯",
      addMemberTitle: "à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯ˆ à®šà¯‡à®°à¯à®•à¯à®•à®µà¯à®®à¯",
      fullName: "à®®à¯à®´à¯à®ªà¯ à®ªà¯†à®¯à®°à¯",
      birthday: "à®ªà®¿à®±à®¨à¯à®¤à®¨à®¾à®³à¯",
      sex: "à®ªà®¾à®²à®¿à®©à®®à¯",
      select: "-- à®¤à¯‡à®°à¯à®¨à¯à®¤à¯†à®Ÿà¯à®•à¯à®•à®µà¯à®®à¯ --",
      male: "à®†à®£à¯ â™‚ï¸",
      female: "à®ªà¯†à®£à¯ â™€ï¸",
      other: "à®®à®±à¯à®±à®µà¯ˆ âš§ï¸",
      familyMembers: "à®•à¯à®Ÿà¯à®®à¯à®ª à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯à®•à®³à¯ (à®’à®°à¯ à®µà®°à®¿à®¯à®¿à®²à¯ à®’à®©à¯à®±à¯, à®µà®Ÿà®¿à®µà®®à¯: à®ªà¯†à®¯à®°à¯ - à®‰à®±à®µà¯)",
      saveLocal: "ğŸ’¾ à®‰à®³à¯à®³à¯‚à®°à®¿à®²à¯ à®šà¯‡à®®à®¿à®•à¯à®•à®µà¯à®®à¯ (à®ªà®°à®¿à®¨à¯à®¤à¯à®°à¯ˆà®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®•à®¿à®±à®¤à¯)",
      copyClipboard: "ğŸ“‹ à®•à®¿à®³à®¿à®ªà¯à®ªà¯‹à®°à¯à®Ÿà¯à®•à¯à®•à¯ à®¨à®•à®²à¯†à®Ÿà¯à®•à¯à®•à®µà¯à®®à¯",
      password: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯",
      unlock: "ğŸ”“ à®‰à®°à®¿à®®à¯ˆà®¯à®¾à®³à®°à¯ à®…à®®à¯à®šà®™à¯à®•à®³à¯ˆ à®¤à®¿à®±à®•à¯à®•à®µà¯à®®à¯",
      saved: name => `âœ… "${name}" à®µà¯†à®±à¯à®±à®¿à®•à®°à®®à®¾à®• à®šà¯‡à®®à®¿à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯!`,
      copied: "ğŸ“‹ à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯ à®¤à®°à®µà¯ à®¨à®•à®²à¯†à®Ÿà¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯!",
      copyFail: "âŒ à®¨à®•à®²à¯†à®Ÿà¯à®•à¯à®• à®®à¯à®Ÿà®¿à®¯à®µà®¿à®²à¯à®²à¯ˆ",
      noData: "ğŸ“ à®¤à®°à®µà¯ à®‡à®²à¯à®²à¯ˆ.",
      downloaded: count => `ğŸ’¾ ${count} à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯ à®ªà®¤à®¿à®µà¯à®•à®³à¯ à®ªà®¤à®¿à®µà®¿à®±à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯!`,
      accessGranted: "ğŸ”“ à®‰à®°à®¿à®®à¯ˆà®¯à®¾à®³à®°à¯ à®…à®£à¯à®•à®²à¯ à®µà®´à®™à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯!",
      accessDenied: "âŒ à®¤à®µà®±à®¾à®© à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯.",
      revoked: "ğŸ”’ à®‰à®°à®¿à®®à¯ˆà®¯à®¾à®³à®°à¯ à®…à®£à¯à®•à®²à¯ à®¨à¯€à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯.",
      loaded: count => `ğŸ“Š à®‰à®³à¯à®³à¯‚à®°à¯ à®šà¯‡à®®à®¿à®ªà¯à®ªà®¿à®²à®¿à®°à¯à®¨à¯à®¤à¯ ${count} à®‰à®±à¯à®ªà¯à®ªà®¿à®©à®°à¯(à®•à®³à¯) à®à®±à¯à®±à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯.`
    }
  };

  let currentLang = "en";

  function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem("language", lang);
    applyTranslations(lang);
  }

  function applyTranslations(lang) {
    const t = translations[lang] || translations["en"];
    document.getElementById("title").textContent = t.title;
    document.getElementById("addMemberBtn").textContent = t.addMember;
    document.getElementById("viewMembersBtn").textContent = t.viewMembers;
    document.getElementById("ownerLoginBtn").textContent = t.ownerAccess;
    document.getElementById("downloadBtn").textContent = t.downloadData;
    document.getElementById("addMemberTitle").textContent = t.addMemberTitle;
    document.getElementById("labelName").textContent = t.fullName;
    document.getElementById("labelBirthday").textContent = t.birthday;
    document.getElementById("labelSex").textContent = t.sex;
    document.querySelector("#sex option[value='']").textContent = t.select;
    document.querySelector("#sex option[value='Male']").textContent = t.male;
    document.querySelector("#sex option[value='Female']").textContent = t.female;
    document.querySelector("#sex option[value='Other']").textContent = t.other;
    document.getElementById("labelFamily").textContent = t.familyMembers;
    document.getElementById("saveLocalBtn").textContent = t.saveLocal;
    document.getElementById("copyClipboardBtn").textContent = t.copyClipboard;
    document.getElementById("labelPassword").textContent = t.password;
    document.getElementById("unlockBtn").textContent = t.unlock;
  }

  function loadData() {
    const saved = localStorage.getItem('memberData');
    if (saved) memberData = JSON.parse(saved);
  }
  function saveData() {
    localStorage.setItem('memberData', JSON.stringify(memberData));
  }

  // Show & Hide Modal
  function openForm() {
    document.getElementById("formModal").classList.remove("hidden");
  }
  function closeForm() {
    document.getElementById("formModal").classList.add("hidden");
  }

  function showStatus(message, isSuccess = true) {
    const statusDiv = document.getElementById('statusDisplay');
    statusDiv.className = `mb-4 p-4 rounded-xl max-w-2xl w-full mx-4 animate-[slideDownFade_0.5s_ease] ${isSuccess ? 'bg-green-600' : 'bg-red-600'}`;
    statusDiv.textContent = message;
    statusDiv.classList.remove('hidden');
    setTimeout(() => statusDiv.classList.add('hidden'), 5000);
  }

  document.getElementById("memberForm").addEventListener("submit", function(event) {
    event.preventDefault();
    const formData = {
      name: document.getElementById("name").value,
      birthday: document.getElementById("birthday").value,
      sex: document.getElementById("sex").value,
      family: document.getElementById("familyMembers").value,
      timestamp: new Date().toISOString()
    };
    memberData.push(formData);
    saveData();
    showStatus(translations[currentLang].saved(formData.name));
    document.getElementById("memberForm").reset();
    closeForm();
  });

  function copyToClipboard() {
    const formData = {
      name: document.getElementById("name").value,
      birthday: document.getElementById("birthday").value,
      sex: document.getElementById("sex").value,
      family: document.getElementById("familyMembers").value
    };
    const text = `Name: ${formData.name}\nBirthday: ${formData.birthday}\nSex: ${formData.sex}\nFamily Members:\n${formData.family}`;
    navigator.clipboard.writeText(text).then(() => {
      showStatus(translations[currentLang].copied);
    }).catch(() => {
      showStatus(translations[currentLang].copyFail, false);
    });
  }

  function downloadSubmissions() {
    if (!isOwner) return showStatus(translations[currentLang].accessDenied, false);
    if (memberData.length === 0) return showStatus(translations[currentLang].noData, false);
    const dataStr = JSON.stringify(memberData, null, 2);
    const blob = new Blob([dataStr], {type: 'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url; a.download = `member_data_${new Date().toISOString().split('T')[0]}.json`;
    a.click();
    URL.revokeObjectURL(url);
    showStatus(translations[currentLang].downloaded(memberData.length));
  }

  function showOwnerLogin() {
    document.getElementById("ownerModal").classList.remove("hidden");
  }
  function closeOwnerLogin() {
    document.getElementById("ownerModal").classList.add("hidden");
    document.getElementById("ownerPassword").value = "";
  }

  document.getElementById("ownerForm").addEventListener("submit", function(event) {
    event.preventDefault();
    const password = document.getElementById("ownerPassword").value;
    if (password === OWNER_PASSWORD) {
      isOwner = true;
      localStorage.setItem('ownerAccess', 'true');
      showOwnerFeatures();
      showStatus(translations[currentLang].accessGranted);
      closeOwnerLogin();
    } else {
      showStatus(translations[currentLang].accessDenied, false);
    }
  });

  function showOwnerFeatures() {
    document.getElementById("downloadBtn").classList.remove("hidden");
    document.getElementById("ownerLoginBtn").classList.add("hidden");
  }
  function hideOwnerFeatures() {
    document.getElementById("downloadBtn").classList.add("hidden");
    document.getElementById("ownerLoginBtn").classList.remove("hidden");
  }
  function checkOwnerStatus() {
    if (localStorage.getItem('ownerAccess') === 'true') {
      isOwner = true; showOwnerFeatures();
    } else hideOwnerFeatures();
  }
  function ownerLogout() {
    isOwner = false;
    localStorage.removeItem('ownerAccess');
    hideOwnerFeatures();
    showStatus(translations[currentLang].revoked);
  }

  window.addEventListener('load', function() {
    loadData();
    checkOwnerStatus();

    const savedLang = localStorage.getItem("language") || "en";
    currentLang = savedLang;
    document.getElementById("languageSwitcher").value = savedLang;
    applyTranslations(savedLang);

    if (memberData.length > 0) {
      showStatus(translations[currentLang].loaded(memberData.length));
    }
  });
</script>

</body>
</html>
